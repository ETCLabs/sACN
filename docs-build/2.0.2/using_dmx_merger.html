<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>sACN: Using the sACN DMX Merger API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="etcdevtool.css" rel="stylesheet" type="text/css"/>
<!-- BEGIN CUSTOM SCRIPTS -->
<!-- BEGIN ETCDEVTOOL VERSION SELECTOR SCRIPT -->
<script type="text/javascript">
  $(function () {
    $.get('/sACNDocs/versions.txt', function (data) {
      if (data) {
        var lines = data.split('\n');
        if (lines.length > 0) {
          var version_select = $("#version_select").empty();
          lines.forEach(function (line) {
            line = line.trim();
            if (!line) {
              return;
            }
            line = line.split(':');
            var option_name = line[0].replace(/^v/, '');
            if (line.length > 1) {
              option_name += ' (' + line[1] + ')';
            }
            var option_val = '/sACNDocs/' + line[0];
            var option = $('<option></option>').attr("value", option_val)
              .text(option_name);
            if (window.location.pathname.match(line[0])) {
              option = option.attr("selected", "selected");
            }
            version_select.append(option);
          });
        }
      }
    }, 'text');
  });
</script>
<!-- END ETCDEVTOOL VERSION SELECTOR SCRIPT -->
<script type="text/javascript">
  $(function () { selectAllC() });
</script>
<script type="text/javascript">
  function selectAllC() {
    // Enable all C-language blocks
    var tabcontent = document.getElementsByClassName("code-tab-content");
    for (i = 0; i < tabcontent.length; i++) {
      if (tabcontent[i].id.endsWith("_c")) {
        tabcontent[i].style.display = "block";
      } else {
        tabcontent[i].style.display = "none"
      }
    }
    // Enable all C-language buttons
    var tablinks = document.getElementsByClassName("code-tab-links");
    for (i = 0; i < tablinks.length; i++) {
      if (tablinks[i].id.endsWith("_c")) {
        if (!tablinks[i].className.includes("active")) {
          tablinks[i].className = tablinks[i].className += " active";
        }
      } else {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
    }
  }
  function selectAllCpp() {
    // Enable all C++-language blocks
    var tabcontent = document.getElementsByClassName("code-tab-content");
    for (i = 0; i < tabcontent.length; i++) {
      if (tabcontent[i].id.endsWith("_cpp")) {
        tabcontent[i].style.display = "block";
      } else {
        tabcontent[i].style.display = "none"
      }
    }
    // Enable all C++-language buttons
    var tablinks = document.getElementsByClassName("code-tab-links");
    for (i = 0; i < tablinks.length; i++) {
      if (tablinks[i].id.endsWith("_cpp")) {
        if (!tablinks[i].className.includes("active")) {
          tablinks[i].className = tablinks[i].className += " active";
        }
      } else {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
    }
  }
  function selectLanguage(evt, block_id, language) {
    // Get all elements with class="tabcontent" and hide them
    var tabcontent = document.getElementsByClassName("code-tab-content");
    for (i = 0; i < tabcontent.length; i++) {
      if (tabcontent[i].id.startsWith("div_" + block_id)) {
        tabcontent[i].style.display = "none";
      }
    }
    // Get all elements with class="tablinks" and remove the class "active"
    var tablinks = document.getElementsByClassName("code-tab-links");
    for (i = 0; i < tablinks.length; i++) {
      if (tablinks[i].id.startsWith("button_" + block_id)) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
    }
    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById("div_" + block_id + "_" + language).style.display = "block";
    if (!evt.currentTarget.className.includes("active")) {
      evt.currentTarget.className += " active";
    }
  }
</script>
<!-- END CUSTOM SCRIPTS -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">sACN
   &#160;<span id="projectnumber">2.0.2</span>
   </div>
   <div id="projectbrief">Implementation of ANSI E1.31 (Streaming ACN)</div>
  </td>
  <!-- BEGIN VERSION SELECTOR INSERTED BY ETCDEVTOOL -->
  <td style="text-align: right; padding-right: 0.5em">
    <div id="otherversions">
      View other versions:
      <select id="version_select" onchange="location = this.value">
      </select>
    </div>
  </td>
  <!-- END VERSION SELECTOR INSERTED BY ETCDEVTOOL -->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('using_dmx_merger.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Using the sACN DMX Merger API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__tmp_tmpyc0x8t09_docs_pages_using_dmx_merger"></a> The sACN DMX Merger API provides a software merger that takes level (NULL start code) and priority data as input and outputs the merged levels, along with source IDs and per-address priorities (PAP) for each merged level. This API exposes both a C and C++ language interface. The C++ interface is a header-only wrapper around the C interface.</p>
<p>Please note that per-address priority is an ETC-specific sACN extension, and is disabled if the library is compiled with <a class="el" href="group__sacnopts__global.html#ga59ee3abb2f4eb1554d7be219a9c8028b" title="Enable ETC&#39;s per-address priority extension to sACN.">SACN_ETC_PRIORITY_EXTENSION</a> set to 0.</p>
<p> 
<div class="code-tab-page-selector">
  <button id="button_1_c" class="code-tab-links" onclick="selectAllC()">Show All C Snippets</button>
  <button id="button_1_cpp" class="code-tab-links" onclick="selectAllCpp()">Show All C++ Snippets</button>
</div>
</p>
<h1>Initialization and Destruction</h1>
<p>The sACN library must be globally initialized before using the DMX Merger API. See <a class="el" href="global_init_and_destroy.html">Global Initialization and Destruction</a>.</p>
<p>A merger must first be created before it can be used. A separate merger should be created for each universe that needs merging.</p>
<p>To create a merger, a config needs to be initialized and passed into the create/startup function. In the config, the output array pointer for the merged slot levels must be specified. There are also optional outputs: the source IDs of each slot, the per-address priorities of each slot, whether per-address priority packets should be transmitted to sACN, and the universe priority to transmit. These are set to NULL if not used. The application owns the memory that it points to in the config, and must ensure that the memory provided is valid until the merger is destroyed. The maximum source count (the maximum number of sources the merger will merge when <a class="el" href="group__sacnopts__global.html#gaf7b1d2fa482d1665683883f80b1f4d87" title="Use dynamic memory allocation.">SACN_DYNAMIC_MEM</a> is 1) is also specified in the config, and it defaults to <a class="el" href="group__sacn__receiver.html#gadb2ea19692692ca852423d0a9de749ea" title="Constant for &quot;infinite&quot; when listening or merging sACN universes.">SACN_RECEIVER_INFINITE_SOURCES</a>. If <a class="el" href="group__sacnopts__global.html#gaf7b1d2fa482d1665683883f80b1f4d87" title="Use dynamic memory allocation.">SACN_DYNAMIC_MEM</a> is 0, then <a class="el" href="group__sacnopts__dmx__merger.html#gaaeaa9701ec2b290ddfb3b31d8463dca4" title="The maximum number of sources that can be merged on each merger instance.">SACN_DMX_MERGER_MAX_SOURCES_PER_MERGER</a> is used instead.</p>
<p>Once the merger is created, the merger's functionality can be used. Mergers can also be destroyed individually with the destroy/shutdown function, although keep in mind that all mergers are destroyed automatically when sACN deinitializes.</p>
<p> 
<div class="code-tab-selector">
  <button id="button_2_c" class="code-tab-links" onclick="selectLanguage(event, '2', 'c')">C</button>
  <button id="button_2_cpp" class="code-tab-links" onclick="selectLanguage(event, '2', 'cpp')">C++</button>
</div>
<div id="div_2_c" class="code-tab-content">
</p>
<div class="fragment"><div class="line"><span class="comment">// These buffers are updated on each merger call with the merge results.</span></div>
<div class="line">uint8_t merged_levels[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line">uint8_t per_address_priorities[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line"><span class="keywordtype">bool</span> should_transmit_per_address_priorities = <span class="keyword">false</span>;</div>
<div class="line">uint8_t universe_priority_to_transmit = 0;</div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#ga6c4761eedeaaf635ac495265849c07f2">sacn_dmx_merger_source_t</a> owners[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Merger configuration used for the initialization of each merger:</span></div>
<div class="line"><a class="code" href="struct_sacn_dmx_merger_config.html">SacnDmxMergerConfig</a> merger_config = <a class="code" href="group__sacn__dmx__merger.html#ga7431ab2baf3af7e0d1999355c6bcc9d7">SACN_DMX_MERGER_CONFIG_INIT</a>;</div>
<div class="line">merger_config.<a class="code" href="struct_sacn_dmx_merger_config.html#a65f1e6db75de6e20f9df99807d14fe19">levels</a> = merged_levels;</div>
<div class="line">merger_config.<a class="code" href="struct_sacn_dmx_merger_config.html#a6b8790b29687764423319cc2b8f24c30">per_address_priorities</a> = per_address_priorities;</div>
<div class="line">merger_config.<a class="code" href="struct_sacn_dmx_merger_config.html#aa844a92b4e32e58dee13b77318f8cb8e">per_address_priorities_active</a> = &amp;should_transmit_per_address_priorities;</div>
<div class="line">merger_config.<a class="code" href="struct_sacn_dmx_merger_config.html#ae39fb52602dd51d0696c8973b0d5cd44">universe_priority</a> = &amp;universe_priority_to_transmit;</div>
<div class="line">merger_config.<a class="code" href="struct_sacn_dmx_merger_config.html#aec37c8bd38cd533fbff8d704cef812d9">owners</a> = owners;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize a merger and obtain its handle.</span></div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#gabee79fb378d5942866adc898cb7da38b">sacn_dmx_merger_t</a> merger_handle;</div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#ga8758dad93531c1a5bbf4643157fe2c72">sacn_dmx_merger_create</a>(&amp;merger_config, &amp;merger_handle);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Mergers can later be destroyed individually.</span></div>
<div class="line"><span class="comment">// Keep in mind that sacn_deinit() will destroy all mergers automatically.</span></div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#ga539b249ea5d0898efce4ee7371fc91ef">sacn_dmx_merger_destroy</a>(merger_handle);</div>
<div class="ttc" id="agroup__s_a_c_n_html_ga681f92a30c76ae426e2403a328978abb"><div class="ttname"><a href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a></div><div class="ttdeci">#define DMX_ADDRESS_COUNT</div><div class="ttdef"><b>Definition:</b> common.h:55</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_ga539b249ea5d0898efce4ee7371fc91ef"><div class="ttname"><a href="group__sacn__dmx__merger.html#ga539b249ea5d0898efce4ee7371fc91ef">sacn_dmx_merger_destroy</a></div><div class="ttdeci">etcpal_error_t sacn_dmx_merger_destroy(sacn_dmx_merger_t handle)</div><div class="ttdoc">Destroy a merger instance.</div><div class="ttdef"><b>Definition:</b> dmx_merger.c:212</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_ga6c4761eedeaaf635ac495265849c07f2"><div class="ttname"><a href="group__sacn__dmx__merger.html#ga6c4761eedeaaf635ac495265849c07f2">sacn_dmx_merger_source_t</a></div><div class="ttdeci">uint16_t sacn_dmx_merger_source_t</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:72</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_ga7431ab2baf3af7e0d1999355c6bcc9d7"><div class="ttname"><a href="group__sacn__dmx__merger.html#ga7431ab2baf3af7e0d1999355c6bcc9d7">SACN_DMX_MERGER_CONFIG_INIT</a></div><div class="ttdeci">#define SACN_DMX_MERGER_CONFIG_INIT</div><div class="ttdoc">An initializer for an SacnDmxMergerConfig struct.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:132</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_ga8758dad93531c1a5bbf4643157fe2c72"><div class="ttname"><a href="group__sacn__dmx__merger.html#ga8758dad93531c1a5bbf4643157fe2c72">sacn_dmx_merger_create</a></div><div class="ttdeci">etcpal_error_t sacn_dmx_merger_create(const SacnDmxMergerConfig *config, sacn_dmx_merger_t *handle)</div><div class="ttdoc">Create a new merger instance.</div><div class="ttdef"><b>Definition:</b> dmx_merger.c:170</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_gabee79fb378d5942866adc898cb7da38b"><div class="ttname"><a href="group__sacn__dmx__merger.html#gabee79fb378d5942866adc898cb7da38b">sacn_dmx_merger_t</a></div><div class="ttdeci">int sacn_dmx_merger_t</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:65</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_config_html"><div class="ttname"><a href="struct_sacn_dmx_merger_config.html">SacnDmxMergerConfig</a></div><div class="ttdef"><b>Definition:</b> dmx_merger.h:79</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_config_html_a65f1e6db75de6e20f9df99807d14fe19"><div class="ttname"><a href="struct_sacn_dmx_merger_config.html#a65f1e6db75de6e20f9df99807d14fe19">SacnDmxMergerConfig::levels</a></div><div class="ttdeci">uint8_t * levels</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:86</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_config_html_a6b8790b29687764423319cc2b8f24c30"><div class="ttname"><a href="struct_sacn_dmx_merger_config.html#a6b8790b29687764423319cc2b8f24c30">SacnDmxMergerConfig::per_address_priorities</a></div><div class="ttdeci">uint8_t * per_address_priorities</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:95</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_config_html_aa844a92b4e32e58dee13b77318f8cb8e"><div class="ttname"><a href="struct_sacn_dmx_merger_config.html#aa844a92b4e32e58dee13b77318f8cb8e">SacnDmxMergerConfig::per_address_priorities_active</a></div><div class="ttdeci">bool * per_address_priorities_active</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:100</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_config_html_ae39fb52602dd51d0696c8973b0d5cd44"><div class="ttname"><a href="struct_sacn_dmx_merger_config.html#ae39fb52602dd51d0696c8973b0d5cd44">SacnDmxMergerConfig::universe_priority</a></div><div class="ttdeci">uint8_t * universe_priority</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:104</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_config_html_aec37c8bd38cd533fbff8d704cef812d9"><div class="ttname"><a href="struct_sacn_dmx_merger_config.html#aec37c8bd38cd533fbff8d704cef812d9">SacnDmxMergerConfig::owners</a></div><div class="ttdeci">sacn_dmx_merger_source_t * owners</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:112</div></div>
</div><!-- fragment --><p> 
</div>
<div id="div_2_cpp" class="code-tab-content">
</p>
<div class="fragment"><div class="line"><span class="comment">// These buffers are updated on each merger call with the merge results.</span></div>
<div class="line"><span class="comment">// They must be valid as long as the merger is using them.</span></div>
<div class="line">uint8_t merged_levels[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line">uint8_t per_address_priorities[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line"><span class="keywordtype">bool</span> should_transmit_per_address_priorities = <span class="keyword">false</span>;</div>
<div class="line">uint8_t universe_priority_to_transmit = 0;</div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#ga6c4761eedeaaf635ac495265849c07f2">sacn_dmx_merger_source_t</a> owners[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Merger configuration used for the initialization of each merger:</span></div>
<div class="line"><a class="code" href="structsacn_1_1_dmx_merger_1_1_settings.html">sacn::DmxMerger::Settings</a> settings(merged_levels);</div>
<div class="line">settings.per_address_priorities = per_address_priorities;</div>
<div class="line">settings.per_address_priorities_active = &amp;should_transmit_per_address_priorities;</div>
<div class="line">settings.universe_priority = &amp;universe_priority_to_transmit;</div>
<div class="line">settings.owners = owners;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize a merger.</span></div>
<div class="line"><a class="code" href="classsacn_1_1_dmx_merger.html">sacn::DmxMerger</a> merger;</div>
<div class="line">merger.<a class="code" href="classsacn_1_1_dmx_merger.html#ab263565edc9ebf5ffd6e82a18184e4c3">Startup</a>(settings);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Mergers can later be destroyed individually.</span></div>
<div class="line"><span class="comment">// Keep in mind that sacn::Deinit() will destroy all mergers automatically.</span></div>
<div class="line">merger.<a class="code" href="classsacn_1_1_dmx_merger.html#ac5f038c2b480cf9ef5e19e3eba8dbaf9">Shutdown</a>();</div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html">sacn::DmxMerger</a></div><div class="ttdoc">An instance of sACN DMX Merger functionality; see Using the sACN DMX Merger API.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:67</div></div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html_ab263565edc9ebf5ffd6e82a18184e4c3"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html#ab263565edc9ebf5ffd6e82a18184e4c3">sacn::DmxMerger::Startup</a></div><div class="ttdeci">etcpal::Error Startup(const Settings &amp;settings)</div><div class="ttdoc">Create a new merger instance.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:184</div></div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html_ac5f038c2b480cf9ef5e19e3eba8dbaf9"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html#ac5f038c2b480cf9ef5e19e3eba8dbaf9">sacn::DmxMerger::Shutdown</a></div><div class="ttdeci">void Shutdown()</div><div class="ttdoc">Destroy a merger instance.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:206</div></div>
<div class="ttc" id="astructsacn_1_1_dmx_merger_1_1_settings_html"><div class="ttname"><a href="structsacn_1_1_dmx_merger_1_1_settings.html">sacn::DmxMerger::Settings</a></div><div class="ttdoc">A set of configuration settings that a merger needs to initialize.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:77</div></div>
</div><!-- fragment --><p> 
</div>
</p>
<h1>Adding and Removing Sources</h1>
<p>In order to input data into a merger, each source being merged must first be added to the merger. To do this, use the add source function, which provides a new source handle on success, or an error code on failure. A source can later be removed individually, which also removes it from the merge output.</p>
<p> 
<div class="code-tab-selector">
  <button id="button_3_c" class="code-tab-links" onclick="selectLanguage(event, '3', 'c')">C</button>
  <button id="button_3_cpp" class="code-tab-links" onclick="selectLanguage(event, '3', 'cpp')">C++</button>
</div>
<div id="div_3_c" class="code-tab-content">
</p>
<div class="fragment"><div class="line"><span class="comment">// Add a couple of sources, which are tracked with handles.</span></div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#ga6c4761eedeaaf635ac495265849c07f2">sacn_dmx_merger_source_t</a> source_1_handle, source_2_handle;</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#gadf879eb673c0ffe91ade6bcc5af615c3">sacn_dmx_merger_add_source</a>(merger_handle, &amp;source_1_handle);</div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#gadf879eb673c0ffe91ade6bcc5af615c3">sacn_dmx_merger_add_source</a>(merger_handle, &amp;source_2_handle);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Sources can later be removed individually, which updates the merger&#39;s output.</span></div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#gac6ebd9581fb8c6170d4acf1c24681ad7">sacn_dmx_merger_remove_source</a>(merger_handle, source_1_handle);</div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#gac6ebd9581fb8c6170d4acf1c24681ad7">sacn_dmx_merger_remove_source</a>(merger_handle, source_2_handle);</div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_gac6ebd9581fb8c6170d4acf1c24681ad7"><div class="ttname"><a href="group__sacn__dmx__merger.html#gac6ebd9581fb8c6170d4acf1c24681ad7">sacn_dmx_merger_remove_source</a></div><div class="ttdeci">etcpal_error_t sacn_dmx_merger_remove_source(sacn_dmx_merger_t merger, sacn_dmx_merger_source_t source)</div><div class="ttdoc">Removes a source from the merger.</div><div class="ttdef"><b>Definition:</b> dmx_merger.c:302</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_gadf879eb673c0ffe91ade6bcc5af615c3"><div class="ttname"><a href="group__sacn__dmx__merger.html#gadf879eb673c0ffe91ade6bcc5af615c3">sacn_dmx_merger_add_source</a></div><div class="ttdeci">etcpal_error_t sacn_dmx_merger_add_source(sacn_dmx_merger_t merger, sacn_dmx_merger_source_t *source_id)</div><div class="ttdoc">Adds a new source to the merger.</div><div class="ttdef"><b>Definition:</b> dmx_merger.c:260</div></div>
</div><!-- fragment --><p> 
</div>
<div id="div_3_cpp" class="code-tab-content">
</p>
<div class="fragment"><div class="line"><span class="comment">// Add a couple of sources, which are tracked with handles.</span></div>
<div class="line"><span class="comment">// AddSource may also return an error, which is not checked for in this example.</span></div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#ga6c4761eedeaaf635ac495265849c07f2">sacn_dmx_merger_source_t</a> source_1_handle = merger.<a class="code" href="classsacn_1_1_dmx_merger.html#ac4c679c71b50cde6301145a91b8440ce">AddSource</a>().value();</div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#ga6c4761eedeaaf635ac495265849c07f2">sacn_dmx_merger_source_t</a> source_2_handle = merger.<a class="code" href="classsacn_1_1_dmx_merger.html#ac4c679c71b50cde6301145a91b8440ce">AddSource</a>().value();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Sources can later be removed individually, which updates the merger&#39;s output.</span></div>
<div class="line">merger.<a class="code" href="classsacn_1_1_dmx_merger.html#a826044729a5c70ee16d5fbc26f93414b">RemoveSource</a>(source_1_handle);</div>
<div class="line">merger.<a class="code" href="classsacn_1_1_dmx_merger.html#a826044729a5c70ee16d5fbc26f93414b">RemoveSource</a>(source_2_handle);</div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html_a826044729a5c70ee16d5fbc26f93414b"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html#a826044729a5c70ee16d5fbc26f93414b">sacn::DmxMerger::RemoveSource</a></div><div class="ttdeci">etcpal::Error RemoveSource(sacn_dmx_merger_source_t source)</div><div class="ttdoc">Removes a source from the merger.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:248</div></div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html_ac4c679c71b50cde6301145a91b8440ce"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html#ac4c679c71b50cde6301145a91b8440ce">sacn::DmxMerger::AddSource</a></div><div class="ttdeci">etcpal::Expected&lt; sacn_dmx_merger_source_t &gt; AddSource()</div><div class="ttdoc">Adds a new source to the merger.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:227</div></div>
</div><!-- fragment --><p> 
</div>
</p>
<h1>Inputting Levels and Priorities</h1>
<p>Different types of data can be fed into a merger: the NULL start code levels, per-address priorities, and universe priority. Inputting this data into a merger causes its merge output to synchronously update. The merger will prioritize sources with the highest per-address priority (or universe priority if the source doesn't provide per-address priorities). If two sources have the same highest priority, the one with the highest NULL start code level wins (HTP). For each slot, a source can only be included in the merge if it has both a level and a priority at that slot. Otherwise, it will be as if the source were not sourcing that slot.</p>
<p>There is a key distinction in how the merger interprets the lowest priority. The lowest universe priority is 0, but the lowest per-address priority is 1. This is because a per-address priority of 0 indicates that the source is not sending any levels to the corresponding slot. The solution the merger uses is to always track priorities per-address. If a source only has a universe priority, that priority is used for each slot, except if it equals 0 - in that case, it is converted to 1. This means the merger will treat a universe priority of 0 as equivalent to a universe priority of 1, as well as per-address priorities equal to 1.</p>
<p>The merger may output per-address priorities if configured to do so by initializing per_address_priorities in the merger config/settings. If a universe priority of 1 or above wins a slot, the merger will output the same value for the per-address priority for that slot. However, if a universe priority of 0 wins a slot, the merger will output a per-address priority of 1 for that slot. If a per-address priority wins, that same value is used for the per-address priority output. The merger only outputs a per-address priority of 0 if there is no winner for that slot.</p>
<p>Also keep in mind that if less than 512 per-address priorities are inputted, then the remaining slots will be treated as if they had a per-address priority of 0. Likewise, if less than 512 levels are inputted, the remaining slots will be treated as if they had a level of 0, but they may still have non-zero priorities.</p>
<p>The way to input this data for a source is to pass it in directly, using one of the update functions. The application can use these functions to update the levels, universe priority, and/or per-address priorities (PAP) individually. The source won't be factored into the merge output until one of the update priority functions are called. If the update levels function hasn't been called at this point, and the source still wins a slot, then the merger will output a level of 0.</p>
<p> 
<div class="code-tab-selector">
  <button id="button_4_c" class="code-tab-links" onclick="selectLanguage(event, '4', 'c')">C</button>
  <button id="button_4_cpp" class="code-tab-links" onclick="selectLanguage(event, '4', 'cpp')">C++</button>
</div>
<div id="div_4_c" class="code-tab-content">
</p>
<div class="fragment"><div class="line">uint8_t levels[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line">uint8_t pap[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line">uint8_t universe_priority;</div>
<div class="line"><span class="comment">// Initialize levels, pap, and universe_priority here...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// To update levels:</span></div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#ga6ee5e85689e75879fa1db01db0bad8a6">sacn_dmx_merger_update_levels</a>(merger_handle, source_1_handle, levels, <a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Then call one of these to update priority:</span></div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#gab56b1f0e4fe8d5d1dd23695a1a861b3b">sacn_dmx_merger_update_universe_priority</a>(merger_handle, source_1_handle, universe_priority);</div>
<div class="line"><a class="code" href="group__sacn__dmx__merger.html#gac28b72fd6849cb6815c0ca58c2d29e65">sacn_dmx_merger_update_pap</a>(merger_handle, source_1_handle, pap, <a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Now the source has been factored into the merge results, which are printed here.</span></div>
<div class="line"><span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>; ++i)</div>
<div class="line">{</div>
<div class="line">  <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/c/fprintf.html">printf</a>(<span class="stringliteral">&quot;Slot %u:\n Level: %u\n PAP: %u\n Source ID: %u\n&quot;</span>, i, merged_levels[i], per_address_priorities[i], owners[i]);</div>
<div class="line">}</div>
<div class="ttc" id="afprintf_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/io/c/fprintf.html">std::printf</a></div><div class="ttdeci">T printf(T... args)</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_ga6ee5e85689e75879fa1db01db0bad8a6"><div class="ttname"><a href="group__sacn__dmx__merger.html#ga6ee5e85689e75879fa1db01db0bad8a6">sacn_dmx_merger_update_levels</a></div><div class="ttdeci">etcpal_error_t sacn_dmx_merger_update_levels(sacn_dmx_merger_t merger, sacn_dmx_merger_source_t source, const uint8_t *new_levels, size_t new_levels_count)</div><div class="ttdoc">Updates a source's levels and recalculates outputs.</div><div class="ttdef"><b>Definition:</b> dmx_merger.c:385</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_gab56b1f0e4fe8d5d1dd23695a1a861b3b"><div class="ttname"><a href="group__sacn__dmx__merger.html#gab56b1f0e4fe8d5d1dd23695a1a861b3b">sacn_dmx_merger_update_universe_priority</a></div><div class="ttdeci">etcpal_error_t sacn_dmx_merger_update_universe_priority(sacn_dmx_merger_t merger, sacn_dmx_merger_source_t source, uint8_t universe_priority)</div><div class="ttdoc">Updates a source's universe priority and recalculates outputs.</div><div class="ttdef"><b>Definition:</b> dmx_merger.c:500</div></div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_gac28b72fd6849cb6815c0ca58c2d29e65"><div class="ttname"><a href="group__sacn__dmx__merger.html#gac28b72fd6849cb6815c0ca58c2d29e65">sacn_dmx_merger_update_pap</a></div><div class="ttdeci">etcpal_error_t sacn_dmx_merger_update_pap(sacn_dmx_merger_t merger, sacn_dmx_merger_source_t source, const uint8_t *pap, size_t pap_count)</div><div class="ttdoc">Updates a source's per-address priorities (PAP) and recalculates outputs.</div><div class="ttdef"><b>Definition:</b> dmx_merger.c:441</div></div>
</div><!-- fragment --><p> 
</div>
<div id="div_4_cpp" class="code-tab-content">
</p>
<div class="fragment"><div class="line">uint8_t levels[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line">uint8_t pap[<a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>];</div>
<div class="line">uint8_t universe_priority;</div>
<div class="line"><span class="comment">// Initialize levels, pap, and universe_priority here...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// To update levels:</span></div>
<div class="line">merger.<a class="code" href="classsacn_1_1_dmx_merger.html#a1aa19e03ca654b84ed0574bb4c4b5659">UpdateLevels</a>(source_1_handle, levels, <a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Then call one of these to update priority:</span></div>
<div class="line">merger.<a class="code" href="classsacn_1_1_dmx_merger.html#ada8d157cee674178ec576caa111afca9">UpdateUniversePriority</a>(source_1_handle, universe_priority);</div>
<div class="line">merger.<a class="code" href="classsacn_1_1_dmx_merger.html#a6954a0af298bdb2c17829a129ce0aad6">UpdatePap</a>(source_1_handle, pap, <a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Now the source has been factored into the merge results, which are printed here.</span></div>
<div class="line"><span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="group__s_a_c_n.html#ga681f92a30c76ae426e2403a328978abb">DMX_ADDRESS_COUNT</a>; ++i)</div>
<div class="line">{</div>
<div class="line">  <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Slot &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;:\n Level: &quot;</span> &lt;&lt; merged_levels[i] &lt;&lt; <span class="stringliteral">&quot;:\n PAP: &quot;</span> &lt;&lt; per_address_priorities[i] &lt;&lt; <span class="stringliteral">&quot;\n Source ID: &quot;</span></div>
<div class="line">            &lt;&lt; owners[i] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">}</div>
<div class="ttc" id="abasic_ostream_html"><div class="ttname"><a href="https://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a></div></div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html_a1aa19e03ca654b84ed0574bb4c4b5659"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html#a1aa19e03ca654b84ed0574bb4c4b5659">sacn::DmxMerger::UpdateLevels</a></div><div class="ttdeci">etcpal::Error UpdateLevels(sacn_dmx_merger_source_t source, const uint8_t *new_levels, size_t new_levels_count)</div><div class="ttdoc">Updates a source's levels and recalculates outputs.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:285</div></div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html_a6954a0af298bdb2c17829a129ce0aad6"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html#a6954a0af298bdb2c17829a129ce0aad6">sacn::DmxMerger::UpdatePap</a></div><div class="ttdeci">etcpal::Error UpdatePap(sacn_dmx_merger_source_t source, const uint8_t *pap, size_t pap_count)</div><div class="ttdoc">Updates a source's per-address priorities (PAP) and recalculates outputs.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:309</div></div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html_ada8d157cee674178ec576caa111afca9"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html#ada8d157cee674178ec576caa111afca9">sacn::DmxMerger::UpdateUniversePriority</a></div><div class="ttdeci">etcpal::Error UpdateUniversePriority(sacn_dmx_merger_source_t source, uint8_t universe_priority)</div><div class="ttdoc">Updates a source's universe priority and recalculates outputs.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:335</div></div>
</div><!-- fragment --><p> 
</div>
</p>
<h1>Accessing Source Information</h1>
<p>Each merger provides read-only access to the state of each of its sources, which can be obtained by calling the get source function. The state information includes the source's handle, NULL start code levels, universe priority, and per-address priorities if available.</p>
<p> 
<div class="code-tab-selector">
  <button id="button_5_c" class="code-tab-links" onclick="selectLanguage(event, '5', 'c')">C</button>
  <button id="button_5_cpp" class="code-tab-links" onclick="selectLanguage(event, '5', 'cpp')">C++</button>
</div>
<div id="div_5_c" class="code-tab-content">
</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="struct_sacn_dmx_merger_source.html">SacnDmxMergerSource</a>* source_state = <a class="code" href="group__sacn__dmx__merger.html#ga0811c88edb22c748c8b80bbc49984e67">sacn_dmx_merger_get_source</a>(merger_handle, source_1_handle);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (source_state)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Do some printouts to demonstrate the fields available</span></div>
<div class="line">  <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/c/fprintf.html">printf</a>(<span class="stringliteral">&quot;Source data:\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">  <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/c/fprintf.html">printf</a>(<span class="stringliteral">&quot; Universe Priority: %u\n&quot;</span>, source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#aefc54b6cd291e480d6cb7c9b5b98a3f4">universe_priority</a>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#a3695ed7e336fa1e6cf75ee3ccbc4937d">valid_level_count</a>; ++i)</div>
<div class="line">  {</div>
<div class="line">    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/c/fprintf.html">printf</a>(<span class="stringliteral">&quot; Level at slot %u: %u\n&quot;</span>, i, source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#a82f491441fd8ea7e0b36c867797a9ba5">levels</a>[i]);</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span>(source_state-&gt;address_priority_valid)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#a3695ed7e336fa1e6cf75ee3ccbc4937d">valid_level_count</a>; ++i)</div>
<div class="line">    {</div>
<div class="line">      <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/c/fprintf.html">printf</a>(<span class="stringliteral">&quot; PAP at slot %u: %u\n&quot;</span>, i, source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#a8e2ad703e06552317b7f47dd0e0ebbea">address_priority</a>[i]);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="agroup__sacn__dmx__merger_html_ga0811c88edb22c748c8b80bbc49984e67"><div class="ttname"><a href="group__sacn__dmx__merger.html#ga0811c88edb22c748c8b80bbc49984e67">sacn_dmx_merger_get_source</a></div><div class="ttdeci">const SacnDmxMergerSource * sacn_dmx_merger_get_source(sacn_dmx_merger_t merger, sacn_dmx_merger_source_t source)</div><div class="ttdoc">Gets a read-only view of the source data.</div><div class="ttdef"><b>Definition:</b> dmx_merger.c:344</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_source_html"><div class="ttname"><a href="struct_sacn_dmx_merger_source.html">SacnDmxMergerSource</a></div><div class="ttdef"><b>Definition:</b> dmx_merger.h:148</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_source_html_a3695ed7e336fa1e6cf75ee3ccbc4937d"><div class="ttname"><a href="struct_sacn_dmx_merger_source.html#a3695ed7e336fa1e6cf75ee3ccbc4937d">SacnDmxMergerSource::valid_level_count</a></div><div class="ttdeci">size_t valid_level_count</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:156</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_source_html_a82f491441fd8ea7e0b36c867797a9ba5"><div class="ttname"><a href="struct_sacn_dmx_merger_source.html#a82f491441fd8ea7e0b36c867797a9ba5">SacnDmxMergerSource::levels</a></div><div class="ttdeci">uint8_t levels[DMX_ADDRESS_COUNT]</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:153</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_source_html_a8e2ad703e06552317b7f47dd0e0ebbea"><div class="ttname"><a href="struct_sacn_dmx_merger_source.html#a8e2ad703e06552317b7f47dd0e0ebbea">SacnDmxMergerSource::address_priority</a></div><div class="ttdeci">uint8_t address_priority[DMX_ADDRESS_COUNT]</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:165</div></div>
<div class="ttc" id="astruct_sacn_dmx_merger_source_html_aefc54b6cd291e480d6cb7c9b5b98a3f4"><div class="ttname"><a href="struct_sacn_dmx_merger_source.html#aefc54b6cd291e480d6cb7c9b5b98a3f4">SacnDmxMergerSource::universe_priority</a></div><div class="ttdeci">uint8_t universe_priority</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:159</div></div>
</div><!-- fragment --><p> 
</div>
<div id="div_5_cpp" class="code-tab-content">
</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="struct_sacn_dmx_merger_source.html">SacnDmxMergerSource</a>* source_state = merger.<a class="code" href="classsacn_1_1_dmx_merger.html#a5f5b58945088002ac617cc5b80cd6fa2">GetSourceInfo</a>(source_1_handle);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (source_state)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Do some printouts to demonstrate the fields available</span></div>
<div class="line">  <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot;Source data:\n Universe Priority: &quot;</span> &lt;&lt; source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#aefc54b6cd291e480d6cb7c9b5b98a3f4">universe_priority</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#a3695ed7e336fa1e6cf75ee3ccbc4937d">valid_level_count</a>; ++i)</div>
<div class="line">  {</div>
<div class="line">    <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; Level at slot &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#a82f491441fd8ea7e0b36c867797a9ba5">levels</a>[i] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span>(source_state-&gt;address_priority_valid)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#a3695ed7e336fa1e6cf75ee3ccbc4937d">valid_level_count</a>; ++i)</div>
<div class="line">    {</div>
<div class="line">      <a class="codeRef" href="https://en.cppreference.com/w/cpp/io/basic_ostream.html">std::cout</a> &lt;&lt; <span class="stringliteral">&quot; PAP at slot &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; source_state-&gt;<a class="code" href="struct_sacn_dmx_merger_source.html#a8e2ad703e06552317b7f47dd0e0ebbea">address_priority</a>[i] &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclasssacn_1_1_dmx_merger_html_a5f5b58945088002ac617cc5b80cd6fa2"><div class="ttname"><a href="classsacn_1_1_dmx_merger.html#a5f5b58945088002ac617cc5b80cd6fa2">sacn::DmxMerger::GetSourceInfo</a></div><div class="ttdeci">const SacnDmxMergerSource * GetSourceInfo(sacn_dmx_merger_source_t source) const</div><div class="ttdoc">Gets a read-only view of the source data.</div><div class="ttdef"><b>Definition:</b> dmx_merger.h:263</div></div>
</div><!-- fragment --><p> 
</div>
 </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="getting_started.html">Getting Started with sACN</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
